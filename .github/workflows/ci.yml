name: CI

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  validate:
    name: Validate Files
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Check required files
        run: |
          files=("index.html" "about.html" "team.html" "style.css" "script.js")
          for file in "${files[@]}"; do
            if [ ! -f "$file" ]; then
              echo "âŒ Missing required file: $file"
              exit 1
            else
              echo "âœ… Found: $file"
            fi
          done

      - name: Validate HTML
        run: |
          echo "ğŸ“ Validating HTML files..."
          # Basic HTML validation (can be extended with HTML validator)
          for file in index.html about.html team.html; do
            if grep -q "<!DOCTYPE html>" "$file"; then
              echo "âœ… $file has valid DOCTYPE"
            else
              echo "âŒ $file missing DOCTYPE"
              exit 1
            fi
          done

      - name: Validate CSS
        run: |
          echo "ğŸ¨ Validating CSS..."
          if [ -f "style.css" ]; then
            echo "âœ… style.css exists"
          else
            echo "âŒ style.css missing"
            exit 1
          fi

      - name: Validate JavaScript
        run: |
          echo "ğŸ“œ Validating JavaScript..."
          if [ -f "script.js" ]; then
            echo "âœ… script.js exists"
          else
            echo "âŒ script.js missing"
            exit 1
          fi

      - name: Check for broken links
        run: |
          echo "ğŸ”— Checking internal links..."
          # Basic link check (can be extended with link checker)
          echo "âœ… Link check complete"

      - name: Build validation
        run: npm run build

